import"../utils/boot.js";import{resolveUrl,pathFromUrl}from"../utils/resolve-url.js";let modules={},lcModules={};function findModule(a){return modules[a]||lcModules[a.toLowerCase()]}function styleOutsideTemplateCheck(a){a.querySelector("style")&&console.warn("dom-module %s has style outside template",a.id)}class DomModule extends HTMLElement{static get observedAttributes(){return["id"]}static import(a,b){if(a){let c=findModule(a);return c&&b?c.querySelector(b):c}return null}attributeChangedCallback(a,b,c){b!==c&&this.register()}get assetpath(){if(!this.__assetpath){const a=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,b=resolveUrl(this.getAttribute("assetpath")||"",a.baseURI);this.__assetpath=pathFromUrl(b)}return this.__assetpath}register(a){a=a||this.id,a&&(this.id=a,modules[a]=this,lcModules[a.toLowerCase()]=this,styleOutsideTemplateCheck(this))}}DomModule.prototype.modules=modules,customElements.define("dom-module",DomModule);export{DomModule};